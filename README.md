# kp-abe

1. 我的wsl环境带不带gmp，需要手动安装：
```
   sudo apt install libgmp3-dev
   g++ test_gmp.cpp -o test_gmp -lgmp
   
   PS：自制automake方法：https://blog.csdn.net/u011857683/article/details/82026809
```

2. 虽然没有libclt13.so库文件，但貌似可以直接下载clt源文件的方式去调用，有时间可以试试。
```
   # To add and clone a new submodule
   $ git submodule add https://github.com/5GenCrypto/clt13.git
   $ git clone https://github.com/5GenCrypto/clt13.git
   $ git submodule init
   $ git submodule update
```
```
   sudo apt install cmake
   sudo apt install libflint-dev
   dos2unix build.sh
   ./build.sh
   make
   sudo make install
   sudo cp build/include/* /usr/local/include/
   sudo cp build/lib/* /usr/local/lib/
```

3. 接下来都准备好后，就是要调通程序，能跑起来就行
```
   ./configure
   make
   LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib/
   export LD_LIBRARY_PATH
   ./Encryption
```
```
$ ./Encryption
publicKey init****************************************
  λ: 10
  κ: 3
  α: 10
  β: 10
  η: 91
  ν: 16
  ρ: 10
  ρ_f: 60
  n: 3
  nzs: 3
  ncores: 4
  Flags: 
  Generating g_i's:
10      100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 2/2 [0.03s]
  Generating p_i's:
91      100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 3/3 [0.00s]
  Computing x0:
        100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 2/2 [0.00s]
  Generating CRT coefficients:
        100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 3/3 [0.00s]
  Generating z_i's:
        100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 3/3 [0.00s]
  Generating pzt:
        100% [||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||] 6/6 [0.00s]
The public gk^a=0 | -1719076059309427455952754830585867741405267210775814617764536762532034331147615587
The public h0=-261265859785324728315275179869283633908638576734585747079377339923762467017379119
The public h1=2208323211912564474093051015768486357334299648814944091837845394630930595065509061
The public h2=1101758441446961489358671493478169717793041510401928441151364329527045048161720085
The public h3=-2648191909345467186355882222357226075777121775636619319153548778187539524331287932
The public h4=-1703411707296814850030115890291286456889337996088823781514171608301397497177732045
setup time is 125000
*********setUp() Complete!!!***************************************************
please input M:123
Cm=888466540569550666557623371207810114297667396100043584253867091202701152508612874
gs=1920437006621268011787545994471118989257518076187880518984464559366415515128469405
c[0]=3603556907144063197581438083220808519561589224065210654830212630619465603924643293
c[1]=2591731392269229957952532136590024206185263945623104270520144842423676106569602758
c[2]=0
c[3]=0
c[4]=0
*********Encrypt() Complete********************************************
skUnion[0]=-4072573465266357574334850990872162273266827629564709026412877375826726110692115334
skUnion[1]=-3667459620484296989628853353409492270616094724607375815048644401555405900853182153
skUnion[2]=3668396016662836467339135983633229041573181600425659909603271863131480430954751674
skUnion[3]=7483410121146864968261521282042862411443317777839552856815617289120013338527541591
skUnion[4]=1006196910974671602814624309029647512743377882360089629153842684416904917626893432
skUnion[5]=1079783322875068476022614179978353262928379254689652563139478974707162630294434992
skUnion[6]=1949263008892964829827215437402369252560204233318471184073939644038977937453022375
*********KeyGen() Complete********************************************
The Message is 3403
```
